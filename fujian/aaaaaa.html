<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>关于我们</title>

    <script src="/static/lpsc/js/jquery.min.js"></script>

    <script src="/static/lpsc/js/swiper-4.min.js"></script>
    <link rel="stylesheet" href="/static/lpsc/js/swiper-4.min.css">

    <script src="/static/lpsc/js/header_and_title.js"></script>
    <link rel="stylesheet" href="/static/lpsc/css/header_and_footer.css">

    <link rel="stylesheet" href="/static/lpsc/css/cart.css">
</head>

<body>

    <main>
        <div class="main">
            <div class="cart">
              
                <div class="all_title_position">
                    <span>当前位置：</span>
                    <a href="">首页</a>
                    <a href=""> > &nbsp; 我的购物车</a>
                </div>
                <div class="cart_main">
                    <div class="cart_main_title">
                        <span class="cart_main_title_cart">购物车</span>
                        <span class="cart_main_title_price">单价</span>
                        <span class="cart_main_title_number">数量</span>
                        <span class="cart_main_title_subtotal">小计</span>
                        <span class="cart_main_title_operation">操作</span>
                    </div>
                    <div class="cart_main_box">
                        <div class="cart_main_one">
                            <section class="cart_main_one_cart">
                                <label for="one_id_1">
                                    <img src="/static/lpsc/imgs/cart_dh.png" alt="">
                                    <input type="checkbox" id="one_id_1">
                                </label>
                                <img src="/static/lpsc/imgs/cart_a.png" alt="">
                                <span>一个很好的双肩包一个很好的双肩包一个很好的双肩包一个很好的双肩包</span>
                            </section>
                            <section class="cart_main_one_price">
                                <span>￥
                                    <span class="one_price">50.00</span>
                                </span>
                            </section>
                            <section class="cart_main_one_number">
                                <img class="one_jian" src="/static/lpsc/imgs/product_details_jian.png" alt="">
                                <input class="one_number" type="text" value="1">
                                <img class="one_jia" src="/static/lpsc/imgs/product_details_jia.png" alt="">
                            </section>
                            <section class="cart_main_one_subtotal">
                                <span>￥
                                    <span class="one_subtotal">50.00</span>
                                </span>
                            </section>
                            <section class="cart_main_one_operation">
                                <span class="one_delete">删除</span>
                            </section>
                        </div>
                        <div class="cart_main_one">
                            <section class="cart_main_one_cart">
                                <label for="one_id_2">
                                    <img src="/static/lpsc/imgs/cart_dh.png" alt="">
                                    <input type="checkbox" id="one_id_2">
                                </label>
                                <img src="/static/lpsc/imgs/cart_b.png" alt="">
                                <span>一个很好的双肩包一个很好的双肩包一个很好的双肩包一个很好的双肩包</span>
                            </section>
                            <section class="cart_main_one_price">
                                <span>￥
                                    <span class="one_price">22.07</span>
                                </span>
                            </section>
                            <section class="cart_main_one_number">
                                <img class="one_jian" src="/static/lpsc/imgs/product_details_jian.png" alt="">
                                <input class="one_number" type="text" value="1">
                                <img class="one_jia" src="/static/lpsc/imgs/product_details_jia.png" alt="">
                            </section>
                            <section class="cart_main_one_subtotal">
                                <span>￥
                                    <span class="one_subtotal">22.07</span>
                                </span>
                            </section>
                            <section class="cart_main_one_operation">
                                <span class="one_delete">删除</span>
                            </section>
                        </div>
                        <div class="cart_main_one">
                            <section class="cart_main_one_cart">
                                <label for="one_id_3">
                                    <img src="/static/lpsc/imgs/cart_dh.png" alt="">
                                    <input type="checkbox" id="one_id_3">
                                </label>
                                <img src="/static/lpsc/imgs/cart_a.png" alt="">
                                <span>一个很好的双肩包一个很好的双肩包一个很好的双肩包一个很好的双肩包</span>
                            </section>
                            <section class="cart_main_one_price">
                                <span>￥
                                    <span class="one_price">13.66</span>
                                </span>
                            </section>
                            <section class="cart_main_one_number">
                                <img class="one_jian" src="/static/lpsc/imgs/product_details_jian.png" alt="">
                                <input class="one_number" type="text" value="1">
                                <img class="one_jia" src="/static/lpsc/imgs/product_details_jia.png" alt="">
                            </section>
                            <section class="cart_main_one_subtotal">
                                <span>￥
                                    <span class="one_subtotal">13.66</span>
                                </span>
                            </section>
                            <section class="cart_main_one_operation">
                                <span class="one_delete">删除</span>
                            </section>
                        </div>
                        <div class="cart_main_one">
                            <section class="cart_main_one_cart">
                                <label for="one_id_2">
                                    <img src="/static/lpsc/imgs/cart_dh.png" alt="">
                                    <input type="checkbox" id="one_id_2">
                                </label>
                                <img src="/static/lpsc/imgs/cart_b.png" alt="">
                                <span>一个很好的双肩包一个很好的双肩包一个很好的双肩包一个很好的双肩包</span>
                            </section>
                            <section class="cart_main_one_price">
                                <span>￥
                                    <span class="one_price">250</span>
                                </span>
                            </section>
                            <section class="cart_main_one_number">
                                <img class="one_jian" src="/static/lpsc/imgs/product_details_jian.png" alt="">
                                <input class="one_number" type="text" value="1">
                                <img class="one_jia" src="/static/lpsc/imgs/product_details_jia.png" alt="">
                            </section>
                            <section class="cart_main_one_subtotal">
                                <span>￥
                                    <span class="one_subtotal">250</span>
                                </span>
                            </section>
                            <section class="cart_main_one_operation">
                                <span class="one_delete">删除</span>
                            </section>
                        </div>
                    </div>

                    <div class="cart_main_bottom">
                        <div class="cart_main_bottom_left">
                            <label for="all" id="quanxuan">
                                <i>
                                    <img src="/static/lpsc/imgs/cart_dh.png" alt="">
                                    <input type="checkbox" name="" id="all">
                                </i>
                                <span>全选</span>
                            </label>
                            <span class="all_delete">删除</span>
                        </div>
                        <div class="cart_main_bottom_right">
                            <section class="cart_main_bottom_right_a">
                                已选商品
                                <span class="all_number">0</span>件
                            </section>
                            <section class="cart_main_bottom_right_b">
                                合计（元）
                                <span class="total_price">0.00</span>
                            </section>
                            <section class="cart_main_bottom_right_c">结算</section>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>




    <script>
        var aa = location.pathname;
        var bb = aa.split("/");
        var cc = bb.length;
        var dd = bb[cc - 1];
        var ee = dd.split(".")
        var ff = ee[0]

        $("a[title=" + ff + "]").css("color", "red");

    </script>

    <script>

        $("input").prop("checked", false)

        $(".cart_main_one").each(function (i) { // 勾选单个商品
            $(this).find("label").click(function () {
                if ($(this).find("input").prop("checked") == true) {
                    $(this).find("img").css("display", "block")


                    var one_price = Number($(".cart_main_one").eq(i).find(".one_price").text()) * 100
                    var one_number = Number($(".cart_main_one").eq(i).find(".one_number").val())
                    var one_subtotal = one_price * one_number;
                    one_subtotal = one_subtotal / 100
                    $(".cart_main_one").eq(i).find(".one_subtotal").text(one_subtotal)


                    var all_number = 0;
                    var total_price = 0;
                    $(".cart_main_one").each(function (j) {
                        if ($(this).find("input").prop("checked") == true) {
                            var one_number = Number($(".cart_main_one").eq(j).find(".one_number").val())
                            var one_subtotal = Number($(".cart_main_one").eq(j).find(".one_subtotal").text()) * 100

                            all_number = all_number + one_number
                            total_price = total_price + one_subtotal

                        }
                    })
                    total_price = total_price / 100

                    $(".all_number").text(all_number)
                    $(".total_price").text(total_price)


                    var if_false = 0
                    $(".cart_main_one_cart").each(function () {
                        if ($(this).find("input").prop("checked") == false) {
                            if_false = 9
                        }
                    })
                    if (if_false == 0) {
                        $("#quanxuan").find("input").prop("checked", true)
                        $("#quanxuan").find("img").css("display", "block")
                    }


                } else {
                    $(this).find("img").css("display", "none")

                    $("#quanxuan").find("input").prop("checked", false)
                    $("#quanxuan").find("img").css("display", "none")


                    var all_number = 0;
                    var total_price = 0;
                    $(".cart_main_one").each(function (j) {
                        if ($(this).find("input").prop("checked") == true) {
                            var one_number = Number($(".cart_main_one").eq(j).find(".one_number").val())
                            var one_subtotal = Number($(".cart_main_one").eq(j).find(".one_subtotal").text()) * 100

                            all_number = all_number + one_number
                            total_price = total_price + one_subtotal

                        }
                    })
                    total_price = total_price / 100

                    $(".all_number").text(all_number)
                    $(".total_price").text(total_price)

                }
            })

        })

        $(".cart_main_one").each(function (i) { // 加减 数量 输入数量

            $(this).find(".one_jian").click(function () {
                var one_number = Number($(".cart_main_one").eq(i).find(".one_number").val())
                if (one_number > 1) {
                    one_number--
                    $(".cart_main_one").eq(i).find(".one_number").val(one_number)

                    var one_price = Number($(".cart_main_one").eq(i).find(".one_price").text()) * 100
                    var one_number = Number($(".cart_main_one").eq(i).find(".one_number").val())
                    var one_subtotal = one_price * one_number;
                    one_subtotal = one_subtotal / 100
                    $(".cart_main_one").eq(i).find(".one_subtotal").text(one_subtotal)


                    var all_number = 0;
                    var total_price = 0;
                    $(".cart_main_one").each(function (j) {
                        if ($(this).find("input").prop("checked") == true) {
                            var one_number = Number($(".cart_main_one").eq(j).find(".one_number").val())
                            var one_subtotal = Number($(".cart_main_one").eq(j).find(".one_subtotal").text()) * 100

                            all_number = all_number + one_number
                            total_price = total_price + one_subtotal

                        }
                    })
                    total_price = total_price / 100

                    $(".all_number").text(all_number)
                    $(".total_price").text(total_price)
                }
            })

            $(this).find(".one_jia").click(function () {
                var one_number = Number($(".cart_main_one").eq(i).find(".one_number").val())
                one_number++
                $(".cart_main_one").eq(i).find(".one_number").val(one_number)

                var one_price = Number($(".cart_main_one").eq(i).find(".one_price").text()) * 100
                var one_number = Number($(".cart_main_one").eq(i).find(".one_number").val())
                var one_subtotal = one_price * one_number;
                one_subtotal = one_subtotal / 100
                $(".cart_main_one").eq(i).find(".one_subtotal").text(one_subtotal)


                var all_number = 0;
                var total_price = 0;
                $(".cart_main_one").each(function (j) {
                    if ($(this).find("input").prop("checked") == true) {
                        var one_number = Number($(".cart_main_one").eq(j).find(".one_number").val())
                        var one_subtotal = Number($(".cart_main_one").eq(j).find(".one_subtotal").text()) * 100

                        all_number = all_number + one_number
                        total_price = total_price + one_subtotal

                    }
                })
                total_price = total_price / 100

                $(".all_number").text(all_number)
                $(".total_price").text(total_price)

            })


            $(this).find(".one_number").bind("input", function () {
                var one_number = Number($(".cart_main_one").eq(i).find(".one_number").val())
                if (one_number > 0) {

                    var one_price = Number($(".cart_main_one").eq(i).find(".one_price").text()) * 100
                    var one_number = Number($(".cart_main_one").eq(i).find(".one_number").val())
                    var one_subtotal = one_price * one_number;
                    one_subtotal = one_subtotal / 100
                    $(".cart_main_one").eq(i).find(".one_subtotal").text(one_subtotal)


                    var all_number = 0;
                    var total_price = 0;
                    $(".cart_main_one").each(function (j) {
                        if ($(this).find("input").prop("checked") == true) {
                            var one_number = Number($(".cart_main_one").eq(j).find(".one_number").val())
                            var one_subtotal = Number($(".cart_main_one").eq(j).find(".one_subtotal").text()) * 100

                            all_number = all_number + one_number
                            total_price = total_price + one_subtotal

                        }
                    })
                    total_price = total_price / 100

                    $(".all_number").text(all_number)
                    $(".total_price").text(total_price)

                } else {
                    $(".cart_main_one").eq(i).find(".one_number").val(1)

                    var one_price = Number($(".cart_main_one").eq(i).find(".one_price").text())
                    $(".cart_main_one").eq(i).find(".one_subtotal").text(one_price)


                    var all_number = 0;
                    var total_price = 0;
                    $(".cart_main_one").each(function (j) {
                        if ($(this).find("input").prop("checked") == true) {
                            var one_number = Number($(".cart_main_one").eq(j).find(".one_number").val())
                            var one_subtotal = Number($(".cart_main_one").eq(j).find(".one_subtotal").text()) * 100

                            all_number = all_number + one_number
                            total_price = total_price + one_subtotal

                        }
                    })
                    total_price = total_price / 100

                    $(".all_number").text(all_number)
                    $(".total_price").text(total_price)
                }

            })
        })



        $(".cart_main_one").each(function (i) { // 单个删除 需要刷新页面
            $(this).find(".one_delete").click(function () {
                $(".cart_main_one").eq(i).remove()

                var all_number = 0;
                var total_price = 0;
                $(".cart_main_one").each(function (j) {
                    if ($(this).find("input").prop("checked") == true) {
                        var one_number = Number($(".cart_main_one").eq(j).find(".one_number").val())
                        var one_subtotal = Number($(".cart_main_one").eq(j).find(".one_subtotal").text()) * 100
                        all_number = all_number + one_number
                        total_price = total_price + one_subtotal
                    }
                })
                total_price = total_price / 100
                $(".all_number").text(all_number)
                $(".total_price").text(total_price)

            })
        })

        $("#quanxuan").click(function () { // 全选

            if ($(this).find("input").prop("checked") == false) {
                $(".cart_main_one_cart input").prop("checked", false)
                $(".cart_main_one_cart label img").css("display", "none")

                $("#quanxuan").find("input").prop("checked", false)
                $("#quanxuan").find("img").css("display", "none")

                $(".all_number").text(0)
                $(".total_price").text(0)
            } else {
                $(".cart_main_one_cart input").prop("checked", true)
                $(".cart_main_one_cart label img").css("display", "block")

                $("#quanxuan").find("input").prop("checked", true)
                $("#quanxuan").find("img").css("display", "block")


                var all_number = 0;
                var total_price = 0;
                $(".cart_main_one").each(function (j) {
                    if ($(this).find("input").prop("checked") == true) {
                        var one_number = Number($(".cart_main_one").eq(j).find(".one_number").val())
                        var one_subtotal = Number($(".cart_main_one").eq(j).find(".one_subtotal").text()) * 100

                        all_number = all_number + one_number
                        total_price =  total_price + one_subtotal

                    }
                })
                total_price = total_price / 100

                $(".all_number").text(all_number)
                $(".total_price").text(total_price)
            }

        })

        $(".all_delete").click(function () { // 多个删除

            $(".cart_main_one").each(function (j) {
                if ($(this).find("input").prop("checked") == true) {
                    $(this).remove()

                    $(".all_number").text(0)
                    $(".total_price").text(0)
                }
            })

        })


        $(".cart_main_bottom_right_c").click(function () { // 结算
            // qsb_alert("一共" + $(".all_number").text() +"件，" +  +"一共" + $(".total_price").text() +"元")
            alert("一共" + $(".all_number").text() + "件，  一共" + $(".total_price").text() + "元")

        })

    </script>



</body>

</html>